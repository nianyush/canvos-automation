name: 'action'
description: 'Run Robot Framework tests'
inputs:
  canvos_tag:
    description: 'CanvOS Tag'
    required: true
  custom_image_tag:
    description: 'Custom Image Tag'
    required: true
  image_registry:
    description: 'Image Registry'
  image_repo:
    description: 'Image Repo'
    required: true
  os_distribution:
    description: 'OS Distribution'
    required: true
  k8s_distribution:
    description: 'K8S Distribution'
    required: true
  iso_name:
    description: 'ISO Name'
    required: true
  arch:
    description: 'Architecture'
    required: true
  base_image:
    description: 'Base Image'

runs:
  using: 'composite'
  steps:
    - shell: bash
      run: ./.github/actions/canvos/canvos-build.sh
      env:
        GH_ACCESS_TOKEN: ${{ inputs.gh_access_token }}
        CANVOS_TAG: ${{ inputs.canvos_tag }}
        CUSTOM_IMAGE_TAG: ${{ inputs.custom_image_tag }}
        IMAGE_REGISTRY: ${{ inputs.image_registry }}
        IMAGE_REPO: ${{ inputs.image_repo }}
        OS_DISTRIBUTION: ${{ inputs.os_distribution }}
        K8S_DISTRIBUTION: ${{ inputs.k8s_distribution }}
        ISO_NAME: ${{ inputs.iso_name }}
        ARCH: ${{ inputs.arch }}
        BASE_IMAGE: ${{ inputs.base_image }}


